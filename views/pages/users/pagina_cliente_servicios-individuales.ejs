<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Servicios Individuales - Sentirse Bien</title>
    <link rel="stylesheet" href="/estilos/estilos_de_paginas.css" />
    <link rel="icon" href="/media/imagenes/icono.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="/estilos/carrito.css">
</head>

<body>
  <header style="display: flex; align-items: center; justify-content: space-between; padding: 10px 30px; background-color: #a51f6f;">
    <div style="display: flex; align-items: center; gap: 15px;">
      <img src="./media/imagenes/logo-sentirse-bien.png" alt="Logo Sentirse Bien" style="height: 60px; border-radius: 15px">
      <div style="color: white;">
        <h1 style="margin: 0;">Sentirse Bien</h1>
        <p style="margin: 0;">Bienestar pensado para vos</p>
      </div>
    </div>
    <nav style="background: none; padding: 0;">
      <a href="/">Inicio</a>
      <a href="/pagina_cliente_servicios-individuales">Servicios Individuales</a>
      <a href="/pagina_cliente_servicios-grupales">Servicios Grupales</a>
    </nav>
  </header>

  <main style="padding : 30px;">
   
    <section class="contenido-servicios">
      <h2 class="titulo-seccion">Servicios Individuales</h2>
      <h3>Masajes</h3>
      <div class="servicios-grid">
        <article class="servicio-box">
          <img src="./media/imagenes/masaje-antistress.jpeg" alt="Masaje Anti-Stress">
          <h4>Masaje Anti-Stress</h4>
            <p><strong>Descripción:</strong> Relajación profunda para eliminar el estrés, utilizando técnicas de aromaterapia y digitopuntura.</p>
            <p><strong>Duración:</strong> 60 minutos</p>
            <p><strong>Beneficios:</strong> Alivia la tensión muscular, reduce la ansiedad, mejora el estado de ánimo.</p>
            <p><strong>Precio:</strong> $10.000</p>
            
            <button class="add-to-cart-btn"
              data-id="masaje-anti-stress"
              data-nombre="Masaje Anti-Stress"
              data-duracion="60"
              data-precio="10000">Añadir al Carrito</button>

          </article>

        <article class="servicio-box">
          <img src="./media/imagenes/masaje-descontracturante.jpg" alt="Masaje Descontracturante">
          <h4>Masaje Descontracturante</h4>
          <p><strong>Descripción:</strong> Alivia tensiones musculares localizadas, ideal para deportistas o personas con trabajos de alta exigencia física.</p>
          <p><strong>Duración:</strong> 45 minutos</p>
          <p><strong>Beneficios:</strong> Libera nudos y contracturas, mejora la movilidad, reduce el dolor.</p>
          <p><strong>Precio:</strong> $12.000</p>

          <button class="add-to-cart-btn"
            data-id="masaje-descontracturante"
            data-nombre="Masaje Descontracturante"
            data-duracion="45"
            data-precio="12000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/masaje-piedras.jpg" alt="Masaje con piedras calientes">
          <h4>Masaje con piedras calientes</h4>
          <p><strong>Descripción:</strong> Técnica de calor terapéutico para relajar músculos profundamente y mejorar la circulación energética.</p>
          <p><strong>Duración:</strong> 75 minutos</p>
          <p><strong>Beneficios:</strong> Relaja la musculatura, disminuye el estrés, aumenta la sensación de bienestar.</p>
          <p><strong>Precio:</strong> $16.000</p>

          <button class="add-to-cart-btn"
            data-id="masaje-piedras-calientes"
            data-nombre="Masaje con piedras calientes"
            data-duracion="75"
            data-precio="16000">Añadir al Carrito</button>

        </article>
        <article class="servicio-box">
          <img src="./media/imagenes/masaje-circulatorio.jpg" alt="Masaje circulatorio">
          <h4>Masaje circulatorio</h4>
          <p><strong>Descripción:</strong> Mejora la circulación sanguínea y la oxigenación de los tejidos, ideal para piernas cansadas y retención de líquidos.</p>
          <p><strong>Duración:</strong> 50 minutos</p>
          <p><strong>Beneficios:</strong> Reduce la hinchazón, alivia la fatiga, mejora la nutrición de la piel.</p>
          <p><strong>Precio:</strong> $14.500</p>
         
          <button class="add-to-cart-btn"
            data-id="masaje-circulatorio"
            data-nombre="Masaje circulatorio"
            data-duracion="50"
            data-precio="14500">Añadir al Carrito</button>

        </article>
      </div>
    </section>

    <section class="servicio-categoria">
      <h3>Belleza</h3>
      <div class="servicios-grid">

        <article class="servicio-box">
          <img src="./media/imagenes/lifting-pestanias.jpg" alt="Lifting de pestañas">
          <h4>Lifting de pestañas</h4>
          <p><strong>Descripción:</strong> Realza tus pestañas de forma natural, alargándolas y curvándolas desde la raíz.</p>
          <p><strong>Duración:</strong> 60 minutos</p>
          <p><strong>Beneficios:</strong> Mirada más abierta e intensa, no requiere rímel, resultado duradero.</p>
          <p><strong>Precio:</strong> $25.000</p>

          <button class="add-to-cart-btn"
            data-id="lifting-pestanias"
            data-nombre="Lifting de pestañas"
            data-duracion="60"
            data-precio="25000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/depilacion-facial.jpg" alt="Depilación facial">
          <h4>Depilación facial</h4>
          <p><strong>Descripción:</strong> Eliminación precisa del vello facial con cera o hilo, adaptado a cada tipo de piel.</p>
          <p><strong>Duración:</strong> 30 minutos</p>
          <p><strong>Beneficios:</strong> Piel suave y sin irritaciones, define las cejas, mejora la apariencia del maquillaje.</p>
          <p><strong>Precio:</strong> $17.000</p>

          <button class="add-to-cart-btn"
            data-id="depilacion-facial"
            data-nombre="Depilación facial"
            data-duracion="30"
            data-precio="17000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/belleza-pies-manos.jpg" alt="Belleza de manos y pies">
          <h4>Belleza de manos y pies</h4>
          <p><strong>Descripción:</strong> Cuidado completo que incluye exfoliación, limado, esmaltado y masaje relajante.</p>
          <p><strong>Duración:</strong> 90 minutos</p>
          <p><strong>Beneficios:</strong> Manos y pies suaves e hidratados, uñas fuertes y saludables, sensación de bienestar.</p>
          <p><strong>Precio:</strong> $21.000</p>

          <button class="add-to-cart-btn"
            data-id="belleza-manos-pies"
            data-nombre="Belleza de manos y pies"
            data-duracion="90"
            data-precio="21000">Añadir al Carrito</button>

        </article>
      </div>
    </section>

    <section class="servicio-categoria">
      <h3>Tratamientos Faciales</h3>
      <div class="servicios-grid">

        <article class="servicio-box">
          <img src="./media/imagenes/punta-diamante.png" alt="Punta de Diamante">
          <h4>Punta de Diamante</h4>
          <p><strong>Descripción:</strong> Microexfoliación que revitaliza la piel, eliminando células muertas y estimulando la producción de colágeno.</p>
          <p><strong>Duración:</strong> 60 minutos</p>
          <p><strong>Beneficios:</strong> Piel más luminosa y suave, reduce arrugas finas y cicatrices, mejora la absorción de productos.</p>
          <p><strong>Precio:</strong> $20.000</p>

          <button class="add-to-cart-btn"
            data-id="punta-diamante"
            data-nombre="Punta de Diamante"
            data-duracion="60"
            data-precio="20000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/limpieza-hidratante.jpg" alt="Limpieza profunda + Hidratación">
          <h4>Limpieza profunda + Hidratación</h4>
          <p><strong>Descripción:</strong> Purificación facial con extracción de impurezas e hidratación intensiva con mascarilla nutritiva.</p>
          <p><strong>Duración:</strong> 75 minutos</p>
          <p><strong>Beneficios:</strong> Piel limpia y fresca, poros descongestionados, hidratación profunda.</p>
          <p><strong>Precio:</strong> $18.000</p>

          <button class="add-to-cart-btn"
            data-id="limpieza-hidratacion"
            data-nombre="Limpieza profunda + Hidratación"
            data-duracion="75"
            data-precio="18000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/criofrecuencia-facial.jpg" alt="Criofrecuencia facial">
          <h4>Criofrecuencia facial</h4>
          <p><strong>Descripción:</strong> Shock térmico que estimula la producción de colágeno y elastina, logrando un efecto lifting instantáneo.</p>
          <p><strong>Duración:</strong> 45 minutos</p>
          <p><strong>Beneficios:</strong> Reafirma la piel, reduce la flacidez, atenúa arrugas y líneas de expresión.</p>
          <p><strong>Precio:</strong> $22.000</p>

         <button class="add-to-cart-btn"
            data-id="criofrecuencia-facial"
            data-nombre="Criofrecuencia facial"
            data-duracion="45"
            data-precio="22000">Añadir al Carrito</button>

        </article>

      </div>
    </section>

    <section class="servicio-categoria">
      <h3>Tratamientos Corporales</h3>
      <div class="servicios-grid">

        <article class="servicio-box">
          <img src="./media/imagenes/velaslim.jpg" alt="VelaSlim">
          <h4>VelaSlim</h4>
          <p><strong>Descripción:</strong> Reduce la circunferencia corporal y la celulitis, combinando radiofrecuencia, infrarrojos, vacumterapia y masaje de rodillos.</p>
          <p><strong>Duración:</strong> 60 minutos</p>
          <p><strong>Beneficios:</strong> Modela la figura, mejora la textura de la piel, reduce la retención de líquidos.</p>
          <p><strong>Precio:</strong> $35.000</p>
          
          <button class="add-to-cart-btn"
            data-id="velaslim"
            data-nombre="VelaSlim"
            data-duracion="60"
            data-precio="35000">Añadir al Carrito</button>  

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/dermohealth.png" alt="DermoHealth">
          <h4>DermoHealth</h4>
          <p><strong>Descripción:</strong> Moviliza los distintos tejidos de la piel y estimula la microcirculación, generando un drenaje linfático y mejorando el aspecto de la piel.</p>
          <p><strong>Duración:</strong> 45 minutos</p>
          <p><strong>Beneficios:</strong> Reduce la celulitis, mejora la circulación, tonifica la piel.</p>
          <p><strong>Precio:</strong> $36.000</p>

          <button class="add-to-cart-btn"
            data-id="dermohealth"
            data-nombre="DermoHealth"
            data-duracion="45"
            data-precio="36000">Añadir al Carrito</button>

        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/criofrecuencia-corporal.jpg" alt="Criofrecuencia corporal">
          <h4>Criofrecuencia corporal</h4>
          <p><strong>Descripción:</strong> Efecto lifting instantáneo en el cuerpo, reafirmando la piel y reduciendo la flacidez gracias al shock térmico.</p>
          <p><strong>Duración:</strong> 60 minutos</p>
          <p><strong>Beneficios:</strong> Reafirma la piel, remodela el contorno corporal, mejora la elasticidad.</p>
          <p><strong>Precio:</strong> $29.000</p>
          
          <button class="add-to-cart-btn"
            data-id="criofrecuencia-corporal"
            data-nombre="Criofrecuencia corporal"
            data-duracion="60"
            data-precio="29000">Añadir al Carrito</button>
        
        </article>

        <article class="servicio-box">
          <img src="./media/imagenes/ultracavitacion.jpg" alt="Ultracavitación">
          <h4>Ultracavitación</h4>
          <p><strong>Descripción:</strong> Técnica reductora no invasiva que elimina la grasa localizada mediante ondas de ultrasonido.</p>
          <p><strong>Duración:</strong> 50 minutos</p>
          <p><strong>Beneficios:</strong> Reduce la grasa localizada, remodela la figura, mejora la apariencia de la piel.</p>
          <p><strong>Precio:</strong> $29.000</p>
          
          <button class="add-to-cart-btn"
            data-id="ultracavitacion"
            data-nombre="Ultracavitación"
            data-duracion="50"
            data-precio="29000">Añadir al Carrito</button>
        
        </article>
      </div>
    </section>
  </main>


    <div class="floating-cart-button" id="floatingCartButton">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cartCount">0</span>
    </div>

 <div id="cartModal" class="cart-modal">
  <div class="cart-modal-content">
    <span class="close-button" id="closeCartModal">&times;</span>
    <h2>Carrito de Servicios</h2>
    <div id="cartItemsContainer"></div>

    <div class="modal-buttons">
      <button id="clearCartButton" class="modal-button clear-button">Limpiar Carrito</button>
      <button id="checkoutButton" class="modal-button checkout-button">Finalizar Reserva</button>
    </div>
  </div>
</div>



<script>
  const cartModal = document.getElementById("cartModal");
const openBtn = document.getElementById("floatingCartButton");
const closeBtn = document.getElementById("closeCartModal");
const clearBtn = document.getElementById("clearCartButton");
const checkoutBtn = document.getElementById("checkoutButton");
const container = document.getElementById("cartItemsContainer");

function renderCartModal() {
  const servicios = JSON.parse(localStorage.getItem("carritoServicios")) || [];

  container.innerHTML = "";

  if (servicios.length === 0) {
    container.innerHTML = "<p>El carrito está vacío.</p>";
    return;
  }

  servicios.forEach(s => {
    const item = document.createElement("div");
    item.className = "servicio-item";
    item.innerHTML = `
      <img src="${s.imagen || './media/imagenes/default.jpg'}" alt="${s.nombre}" style="width: 60px; height: 60px; border-radius: 10px; margin-right: 10px;">
      <div>
        <p><strong>${s.nombre}</strong></p>
        <p>🗓️ ${s.fecha} 🕑 ${s.hora}</p>
        <p>$${s.precio}</p>
      </div>
    `;
    item.style.display = "flex";
    item.style.gap = "10px";
    item.style.alignItems = "center";
    item.style.borderBottom = "1px solid #eee";
    item.style.marginBottom = "10px";
    container.appendChild(item);
  });
}

// abrir/cerrar modal
openBtn.onclick = () => {
  cartModal.style.display = "block";
  renderCartModal();
};

closeBtn.onclick = () => {
  cartModal.style.display = "none";
};

window.onclick = (e) => {
  if (e.target == cartModal) {
    cartModal.style.display = "none";
  }
};

// limpiar carrito
clearBtn.onclick = () => {
  localStorage.removeItem("carritoServicios");
  renderCartModal();
  document.getElementById("cartCount").textContent = "0";
};

// redirigir a página de confirmación
checkoutBtn.onclick = () => {
  window.location.href = "/confirmar_reserva";
};
    
</script>
  

  <script>
    window.addEventListener('scroll', () => {
      const boxes = document.querySelectorAll('.servicio-box');
      boxes.forEach(box => {
        const top = box.getBoundingClientRect().top;
        if (top < window.innerHeight - 100) {
          box.classList.add('visible');
        }
      });
    });
  </script>
  
<!-- script carrito , aca traigo nombre fecha hora e imagen -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  const botones = document.querySelectorAll(".add-to-cart-btn");

  botones.forEach(btn => {
    btn.addEventListener("click", () => {
      const nombre = btn.dataset.nombre;
      const precio = parseInt(btn.dataset.precio);
      const id = btn.dataset.id;

      const picker = flatpickr(document.createElement("input"), {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
        minDate: new Date(),
        defaultHour: 10,
        defaultMinute: 0,
        onClose: function (selectedDates) {
          if (!selectedDates.length) return;

          const fechaCompleta = selectedDates[0];
          const ahora = new Date();
          const diferenciaHoras = (fechaCompleta - ahora) / 1000 / 60 / 60;

          if (diferenciaHoras < 48) {
            alert("⚠️ El servicio debe reservarse con al menos 48 horas de anticipación.");
            return;
          }

          const fecha = fechaCompleta.toISOString().split("T")[0];
          const hora = fechaCompleta.toTimeString().split(":").slice(0, 2).join(":");
          const imagen = btn.parentElement.querySelector("img").getAttribute("src");

          const nuevoServicio = {
            id,
            nombre,
            precio,
            fecha,
            hora,
            imagen
          };

          const carrito = JSON.parse(localStorage.getItem("carritoServicios")) || [];
          carrito.push(nuevoServicio);
          localStorage.setItem("carritoServicios", JSON.stringify(carrito));

          alert(`✅ "${nombre}" agregado al carrito para el ${fecha} a las ${hora}`);
          actualizarContadorCarrito();
        }
      });

      picker.open();
    });
  });

  function actualizarContadorCarrito() {
    const carrito = JSON.parse(localStorage.getItem("carritoServicios")) || [];
    const contador = document.getElementById("cartCount");
    if (contador) contador.textContent = carrito.length;
  }

  actualizarContadorCarrito();
</script>

<$- include('../templates/chatbot.ejs') %>
<%- include('../../templates/footer.ejs') %>

</body>

</html>