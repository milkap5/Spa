<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panel del Profesional</title>
  <link rel="stylesheet" href="../../../public/estilos/estilos_de_paginas.css" />
  <link rel="stylesheet" href="../../../public/estilos/profesional.css" />
  <link rel="icon" href="../../../public/media/imagenes/icono.ico"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
  <header class="encabezado" style="display: flex; justify-content: space-between; align-items: center; padding: 20px 30px;">
    <div style="display: flex; align-items: center; gap: 15px;">
      <img src="../../../public/media/imagenes/logo-sentirse-bien.png" alt="Logo Sentirse Bien" style="height: 60px; border-radius: 15px;">
      <div style="color: white;">
        <h1 style="margin: 0;">Sentirse Bien</h1>
        <p style="margin: 0;">Bienestar pensado para vos</p>
      </div>
    </div>
    <div style="color: white; font-weight: bold;" id="saludoAdmin">Hola, Profesional!</div>
    <button id="cerrarSesion" class="boton-acento">Cerrar sesiÃ³n</button>
  </header>

  <div class="layout-profesional">
    <!-- MenÃº lateral -->
    <nav class="menu-lateral">
      <button onclick="mostrarSeccion('turnos')" class="tab-btn activo">ğŸ“‹ Mis Turnos</button>
      <button onclick="mostrarSeccion('datos')" class="tab-btn">ğŸ› ï¸ Editar Mis Datos</button>
    </nav>

    <!-- Contenido principal -->
    <section class="contenido-profesional">

      <!-- SecciÃ³n Turnos -->
      <div id="seccion-turnos" class="seccion-visible">
        <div class="contenedor-profesional">
          <section class="encabezado-profesional">
            <h2>Turnos del dÃ­a</h2>
            <p id="fechaHoy"></p>
          </section>

          <div class="barra-filtros">
            <label for="filtroCategoria">CategorÃ­a:</label>
            <select id="filtroCategoria">
              <option value="todas">Todas</option>
              <option value="masajes">Masajes</option>
              <option value="belleza">Belleza</option>
              <option value="faciales">Faciales</option>
              <option value="corporales">Corporales</option>
              <option value="grupales">Grupales</option>
            </select>

            <label for="filtroEstado">Estado:</label>
            <select id="filtroEstado">
              <option value="todos">Todos</option>
              <option value="pendiente">Pendiente</option>
              <option value="en curso">En curso</option>
              <option value="finalizado">Finalizado</option>
              <option value="cancelado">Cancelado</option>
            </select>

            <label for="filtroFecha">Fecha:</label>
            <input type="date" id="filtroFecha" />

            <button onclick="descargarTurnosPDF()" class="btn-descargar">ğŸ“„ PDF</button>
            <button onclick="imprimirTodos()" class="btn-imprimir-todos">ğŸ–¨ï¸ Imprimir todos</button>
          </div>

          <div id="contenedorTurnos" class="grid-turnos"></div>
        </div>
      </div>

      <!-- SecciÃ³n Editar Datos -->
      <div id="seccion-datos" class="seccion-oculta">
        <section class="seccion-actualizar">
          <h3>Actualizar mis datos</h3>
          <form id="formActualizarDatos" class="form-actualizar">
            <label for="nuevoCorreo">Correo electrÃ³nico:</label>
            <input type="email" id="nuevoCorreo" required value="profesional@ejemplo.com">

            <label for="nuevoTelefono">TelÃ©fono:</label>
            <input type="tel" id="nuevoTelefono" required value="3624000000">

            <button type="submit" class="btn-actualizar">Guardar cambios</button>
            <p id="mensajeActualizacion" class="mensaje-exito" style="display: none;">âœ… Datos actualizados correctamente.</p>
          </form>
        </section>
      </div>
    </section>
  </div>


  <!-- scripts -->
 
Â  Â  <script>
Â  Â  // FunciÃ³n auxiliar para obtener una fecha en formato YYYY-MM-DD
Â  Â  function getFecha(daysOffset = 0) {
Â  Â  Â  const date = new Date();
Â  Â  Â  date.setDate(date.getDate() + daysOffset);
Â  Â  Â  return date.toISOString().split('T')[0];
Â  Â  }

Â  Â  const hoy = getFecha(0);
Â  Â  const manana = getFecha(1);
Â  Â  const ayer = getFecha(-1);


Â  Â  // datos demo, se pueden eliminar cuando estemos conectados a la bd
Â  Â  const turnosDelDia = [
Â  Â  Â  {
Â  Â  Â  Â  id: 1,
Â  Â  Â  Â  cliente_nombre: "Laura GÃ³mez",
Â  Â  Â  Â  numero_cliente: "1234",
Â  Â  Â  Â  telefono: "3624567890",
Â  Â  Â  Â  correo: "laura@gmail.com",
Â  Â  Â  Â  servicio: "Masaje Anti-Stress",
Â  Â  Â  Â  categoria: "masajes",
Â  Â  Â  Â  hora: "10:00",
Â  Â  Â  Â  estado: "finalizado",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 2,
Â  Â  Â  Â  cliente_nombre: "MartÃ­n DÃ­az",
Â  Â  Â  Â  numero_cliente: "1235",
Â  Â  Â  Â  telefono: "3624123456",
Â  Â  Â  Â  correo: "martin@gmail.com",
Â  Â  Â  Â  servicio: "Criofrecuencia facial",
Â  Â  Â  Â  categoria: "faciales",
Â  Â  Â  Â  hora: "12:00",
Â  Â  Â  Â  estado: "cancelado",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 3,
Â  Â  Â  Â  cliente_nombre: "SofÃ­a PÃ©rez",
Â  Â  Â  Â  numero_cliente: "1236",
Â  Â  Â  Â  telefono: "3624789012",
Â  Â  Â  Â  correo: "sofia@gmail.com",
Â  Â  Â  Â  servicio: "Masaje con Piedras Calientes",
Â  Â  Â  Â  categoria: "masajes",
Â  Â  Â  Â  hora: "14:30",
Â  Â  Â  Â  estado: "finalizado",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 4,
Â  Â  Â  Â  cliente_nombre: "Diego Ramirez",
Â  Â  Â  Â  numero_cliente: "1237",
Â  Â  Â  Â  telefono: "3624345678",
Â  Â  Â  Â  correo: "diego@gmail.com",
Â  Â  Â  Â  servicio: "Clase de Yoga Grupal",
Â  Â  Â  Â  categoria: "grupales",
Â  Â  Â  Â  hora: "09:00",
Â  Â  Â  Â  estado: "cancelado",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 5,
Â  Â  Â  Â  cliente_nombre: "Ana Fernandez",
Â  Â  Â  Â  numero_cliente: "1238",
Â  Â  Â  Â  telefono: "3624876543",
Â  Â  Â  Â  correo: "ana@gmail.com",
Â  Â  Â  Â  servicio: "Clase de Yoga Grupal",
Â  Â  Â  Â  categoria: "grupales",
Â  Â  Â  Â  hora: "19:00",
Â  Â  Â  Â  estado: "pendiente",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 6,
Â  Â  Â  Â  cliente_nombre: "Carlos Sanchez",
Â  Â  Â  Â  numero_cliente: "1239",
Â  Â  Â  Â  telefono: "3624234567",
Â  Â  Â  Â  correo: "carlos@gmail.com",
Â  Â  Â  Â  servicio: "Limpieza facial profunda",
Â  Â  Â  Â  categoria: "faciales",
Â  Â  Â  Â  hora: "20:00",
Â  Â  Â  Â  estado: "pendiente",
Â  Â  Â  Â  fecha: manana // Turno para maÃ±ana
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 7,
Â  Â  Â  Â  cliente_nombre: "Valeria Ruiz",
Â  Â  Â  Â  numero_cliente: "1240",
Â  Â  Â  Â  telefono: "3624987654",
Â  Â  Â  Â  correo: "valeria@gmail.com",
Â  Â  Â  Â  servicio: "Masaje Descontracturante",
Â  Â  Â  Â  categoria: "masajes",
Â  Â  Â  Â  hora: "09:30",
Â  Â  Â  Â  estado: "pendiente",
Â  Â  Â  Â  fecha: manana // Turno para maÃ±ana
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 8,
Â  Â  Â  Â  cliente_nombre: "Pablo Gimenez",
Â  Â  Â  Â  numero_cliente: "1241",
Â  Â  Â  Â  telefono: "3624567123",
Â  Â  Â  Â  correo: "pablo@gmail.com",
Â  Â  Â  Â  servicio: "Masaje Corporal",
Â  Â  Â  Â  categoria: "masajes",
Â  Â  Â  Â  hora: "10:30",
Â  Â  Â  Â  estado: "finalizado",
Â  Â  Â  Â  fecha: ayer // Turno de ayer (finalizado)
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 9,
Â  Â  Â  Â  cliente_nombre: "LucÃ­a Castro",
Â  Â  Â  Â  numero_cliente: "1242",
Â  Â  Â  Â  telefono: "3624890123",
Â  Â  Â  Â  correo: "lucia@gmail.com",
Â  Â  Â  Â  servicio: "Lifting de PestaÃ±as",
Â  Â  Â  Â  categoria: "belleza",
Â  Â  Â  Â  hora: "13:00",
Â  Â  Â  Â  estado: "en curso",
Â  Â  Â  Â  fecha: hoy
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  id: 10,
Â  Â  Â  Â  cliente_nombre: "Federico Herrera",
Â  Â  Â  Â  numero_cliente: "1243",
Â  Â  Â  Â  telefono: "3624112233",
Â  Â  Â  Â  correo: "fede@gmail.com",
Â  Â  Â  Â  servicio: "Hidromasajes",
Â  Â  Â  Â  categoria: "grupales",
Â  Â  Â  Â  hora: "17:00",
Â  Â  Â  Â  estado: "pendiente",
Â  Â  Â  Â  fecha: manana // Turno para maÃ±ana
Â  Â  Â  }
Â  Â  ];

Â  Â  const estadoColor = {
Â  Â  Â  pendiente: "#ffcc00",
Â  Â  Â  "en curso": "#3498db",
Â  Â  Â  finalizado: "#2ecc71",
Â  Â  Â  cancelado: "#e74c3c"
Â  Â  };

Â  Â  const categoriaIconos = {
Â  Â  Â  masajes: "ğŸ’†",
Â  Â  Â  belleza: "ğŸ’…",
Â  Â  Â  faciales: "ğŸŒ¸",
Â  Â  Â  corporales: "ğŸƒâ€â™€ï¸",
Â  Â  Â  grupales: "ğŸ‘¥"
Â  Â  };

Â  Â  function renderizarTurnos(cat = "todas", estado = "todos", fecha = null) {
Â  Â  Â  const contenedor = document.getElementById("contenedorTurnos");
Â  Â  Â  contenedor.innerHTML = "";

Â  Â  Â  // Asegurarse de que la fecha de filtro sea solo la parte YYYY-MM-DD
Â  Â  Â  const filtroFechaFormato = fecha ? new Date(fecha + 'T00:00:00').toISOString().split('T')[0] : null;

Â  Â  Â  const filtrados = turnosDelDia.filter(t => {
Â  Â  Â  Â  const matchCat = cat === "todas" || t.categoria === cat;
Â  Â  Â  Â  const matchEst = estado === "todos" || t.estado === estado;
Â  Â  Â  Â  const matchFecha = !filtroFechaFormato || t.fecha === filtroFechaFormato;
Â  Â  Â  Â  return matchCat && matchEst && matchFecha;
Â  Â  Â  });

Â  Â  Â  if (filtrados.length === 0) {
Â  Â  Â  Â  contenedor.innerHTML = "<p>No hay turnos para mostrar.</p>";
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  filtrados.forEach(t => {
Â  Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  Â  div.className = "tarjeta-turno";
Â  Â  Â  Â  div.style.borderLeft = `6px solid ${estadoColor[t.estado]}`;

Â  Â  Â  Â  const icono = categoriaIconos[t.categoria] || "â”";
Â  Â  Â  Â  div.innerHTML = `
Â  Â  Â  Â  Â  <h4>${icono} ${t.servicio} - ${t.hora}</h4>
Â  Â  Â  Â  Â  <p><strong>Cliente:</strong> ${t.cliente_nombre}</p>
Â  Â  Â  Â  Â  <p><strong>NÂ° Cliente:</strong> ${t.numero_cliente}</p>
Â  Â  Â  Â  Â  <p><strong>TelÃ©fono:</strong> ${t.telefono}</p>
Â  Â  Â  Â  Â  <p><strong>Correo:</strong> ${t.correo}</p>
Â  Â  Â  Â  Â  <p><strong>CategorÃ­a:</strong> ${t.categoria}</p>
Â  Â  Â  Â  Â  <p><strong>Estado:</strong> 
Â  Â  Â  Â  Â  Â  <select onchange="actualizarEstado(${t.id}, this.value)">
Â  Â  Â  Â  Â  Â  Â  ${["pendiente", "en curso", "finalizado", "cancelado"].map(e =>
Â  Â  Â  Â  Â  Â  Â  Â  `<option value="${e}" ${t.estado === e ? "selected" : ""}>${e}</option>`
Â  Â  Â  Â  Â  Â  Â  ).join("")}
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  <button class="btn-imprimir-todos" onclick="imprimirTurno(${t.id})">ğŸ–¨ï¸ Imprimir</button>
Â  Â  Â  Â  Â  <a class="btn-whatsapp" target="_blank"
Â  Â  Â  Â  Â  Â  href="https://wa.me/54${t.telefono}?text=Hola%20${encodeURIComponent(t.cliente_nombre)}%2C%20te%20contacto%20desde%20Sentirse%20Bien%20por%20tu%20turno%20de%20${encodeURIComponent(t.servicio)}">
Â  Â  Â  Â  Â  Â  ğŸ’¬ WhatsApp
Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  `;
Â  Â  Â  Â  contenedor.appendChild(div);
Â  Â  Â  });
Â  Â  }

Â  Â  function actualizarEstado(id, nuevoEstado) {
Â  Â  Â  const turno = turnosDelDia.find(t => t.id === id);
Â  Â  Â  if (turno) {
Â  Â  Â  Â  turno.estado = nuevoEstado;
Â  Â  Â  Â  // AquÃ­ es donde eventualmente enviarÃ­as esta actualizaciÃ³n a tu backend
Â  Â  Â  Â  console.log(`Estado del turno ${id} actualizado a: ${nuevoEstado}. (Esto deberÃ­a enviarse al backend)`);
Â  Â  Â  }
Â  Â  Â  obtenerFiltrosYRenderizar();
Â  Â  }

Â  Â  function obtenerFiltrosYRenderizar() {
Â  Â  Â  renderizarTurnos(
Â  Â  Â  Â  document.getElementById("filtroCategoria").value,
Â  Â  Â  Â  document.getElementById("filtroEstado").value,
Â  Â  Â  Â  document.getElementById("filtroFecha").value || null
Â  Â  Â  );
Â  Â  }

Â  Â  function mostrarSeccion(id) {
Â  Â  Â  document.getElementById("seccion-turnos").className = "seccion-oculta";
Â  Â  Â  document.getElementById("seccion-datos").className = "seccion-oculta";
Â  Â  Â  document.getElementById(`seccion-${id}`).className = "seccion-visible";

Â  Â  Â  document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("activo"));
Â  Â  Â  const botonActivo = Array.from(document.querySelectorAll(".tab-btn")).find(b => b.textContent.toLowerCase().includes(id));
Â  Â  Â  if (botonActivo) botonActivo.classList.add("activo");
Â  Â  }

Â  Â  function imprimirTurno(id) {
Â  Â  Â  Â  const t = turnosDelDia.find(t => t.id === id);
Â  Â  Â  Â  if (!t) return;

Â  Â  Â  Â  const w = window.open("", "", "width=600,height=600");

Â  Â  Â  Â  w.document.write(`
Â  Â  Â  Â  Â  Â  <html>
Â  Â  Â  Â  Â  Â  <head>
Â  Â  Â  Â  Â  Â  <title>Turno Profesional</title>
Â  Â  Â  Â  Â  Â  <style>
Â  Â  Â  Â  Â  Â  Â  Â  body { font-family: Arial, sans-serif; padding: 30px; }
Â  Â  Â  Â  Â  Â  Â  Â  h2 { color: #a51f6f; }
Â  Â  Â  Â  Â  Â  Â  Â  p { font-size: 16px; margin-bottom: 8px; }
Â  Â  Â  Â  Â  Â  Â  Â  .detalle-turno {
Â  Â  Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  Â  Â  background: #fdfdfd;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  </style>
Â  Â  Â  Â  Â  Â  </head>
Â  Â  Â  Â  Â  Â  <body>
Â  Â  Â  Â  Â  Â  <h2>ğŸ“‹ Detalles del Turno</h2>
Â  Â  Â  Â  Â  Â  <div class="detalle-turno">
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ‘¤ Nombre completo:</strong> ${t.cliente_nombre}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ†” NÃºmero de cliente:</strong> ${t.numero_cliente}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“§ Correo electrÃ³nico:</strong> ${t.correo}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“ TelÃ©fono:</strong> ${t.telefono}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ’† Servicio:</strong> ${t.servicio}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ•’ Hora:</strong> ${t.hora}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“… Fecha del turno:</strong> ${t.fecha}</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <script>
Â  Â  Â  Â  Â  Â  Â  Â  window.onload = function(){ window.print(); };
Â  Â  Â  Â  Â  Â  <\/script>
Â  Â  Â  Â  Â  Â  </body>
Â  Â  Â  Â  Â  Â  </html>
Â  Â  Â  Â  `);

Â  Â  Â  Â  w.document.close();
Â  Â  Â  Â  }



Â  Â  function imprimirTodos() {
Â  Â  Â  Â  const w = window.open("", "", "width=800,height=800");

Â  Â  Â  Â  w.document.write(`
Â  Â  Â  Â  Â  Â  <html>
Â  Â  Â  Â  Â  Â  <head>
Â  Â  Â  Â  Â  Â  <title>Todos los Turnos del DÃ­a</title>
Â  Â  Â  Â  Â  Â  <style>
Â  Â  Â  Â  Â  Â  Â  Â  body { font-family: Arial, sans-serif; padding: 30px; }
Â  Â  Â  Â  Â  Â  Â  Â  h2 { color: #a51f6f; }
Â  Â  Â  Â  Â  Â  Â  Â  .detalle-turno {
Â  Â  Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  Â  Â  background: #fdfdfd;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  p { font-size: 15px; margin-bottom: 6px; }
Â  Â  Â  Â  Â  Â  Â  Â  hr { border: none; border-top: 1px dashed #ccc; margin: 15px 0; }
Â  Â  Â  Â  Â  Â  </style>
Â  Â  Â  Â  Â  Â  </head>
Â  Â  Â  Â  Â  Â  <body>
Â  Â  Â  Â  Â  Â  <h2>ğŸ“‹ Turnos del DÃ­a</h2>
Â  Â  Â  Â  `);

Â  Â  Â  Â  turnosDelDia.forEach((t, i) => {
Â  Â  Â  Â  Â  Â  w.document.write(`
Â  Â  Â  Â  Â  Â  <div class="detalle-turno">
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Turno #${i + 1}</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ‘¤ Nombre completo:</strong> ${t.cliente_nombre}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ†” NÃºmero de cliente:</strong> ${t.numero_cliente}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“§ Correo electrÃ³nico:</strong> ${t.correo}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“ TelÃ©fono:</strong> ${t.telefono}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ’† Servicio:</strong> ${t.servicio}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ•’ Hora:</strong> ${t.hora}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ğŸ“… Fecha del turno:</strong> ${t.fecha}</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `);
Â  Â  Â  Â  });

Â  Â  Â  Â  w.document.write(`
Â  Â  Â  Â  Â  Â  <script>
Â  Â  Â  Â  Â  Â  Â  Â  window.onload = function(){ window.print(); };
Â  Â  Â  Â  Â  Â  <\/script>
Â  Â  Â  Â  Â  Â  </body>
Â  Â  Â  Â  Â  Â  </html>
Â  Â  Â  Â  `);

Â  Â  Â  Â  w.document.close();
Â  Â  Â  Â  }


Â  Â  async function descargarTurnosPDF() {
Â  Â  Â  const { jsPDF } = window.jspdf;
Â  Â  Â  const doc = new jsPDF();
Â  Â  Â  doc.setFont("helvetica", "bold");
Â  Â  Â  doc.setFontSize(16);
Â  Â  Â  doc.text("Turnos del dÃ­a - Sentirse Bien", 14, 20);
Â  Â  Â  doc.setFontSize(10);
Â  Â  Â  doc.setFont("helvetica", "normal");
Â  Â  Â  doc.text(`Fecha: ${new Date().toLocaleDateString("es-AR")}`, 14, 28);
Â  Â  Â  let y = 40;

Â  Â  Â  turnosDelDia.forEach((t, i) => {
Â  Â  Â  Â  const texto = `#${i + 1}
Â  Â  Â  Â  Cliente: ${t.cliente_nombre} (NÂ° ${t.numero_cliente})
Â  Â  Â  Â  Servicio: ${t.servicio}
Â  Â  Â  Â  Hora: ${t.hora}
Â  Â  Â  Â  CategorÃ­a: ${t.categoria}
Â  Â  Â  Â  Estado: ${t.estado}
Â  Â  Â  Â  TelÃ©fono: ${t.telefono}
Â  Â  Â  Â  Correo: ${t.correo}`;
Â  Â  Â  Â  const lines = doc.splitTextToSize(texto, 180);
Â  Â  Â  Â  if (y + lines.length * 6 > 270) {
Â  Â  Â  Â  Â  doc.addPage();
Â  Â  Â  Â  Â  y = 20;
Â  Â  Â  Â  }
Â  Â  Â  Â  doc.text(lines, 14, y);
Â  Â  Â  Â  y += lines.length * 6 + 4;
Â  Â  Â  });

Â  Â  Â  doc.save("turnos-dia.pdf");
Â  Â  }

Â  Â  document.getElementById("filtroCategoria").addEventListener("change", obtenerFiltrosYRenderizar);
Â  Â  document.getElementById("filtroEstado").addEventListener("change", obtenerFiltrosYRenderizar);
Â  Â  document.getElementById("filtroFecha").addEventListener("change", obtenerFiltrosYRenderizar);

Â  Â  document.getElementById("formActualizarDatos").addEventListener("submit", function (e) {
Â  Â  Â  e.preventDefault();
Â  Â  Â  const correo = document.getElementById("nuevoCorreo").value;
Â  Â  Â  const tel = document.getElementById("nuevoTelefono").value;
Â  Â  Â  console.log("Datos actualizados:", correo, tel);
Â  Â  Â  document.getElementById("mensajeActualizacion").style.display = "block";
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  document.getElementById("mensajeActualizacion").style.display = "none";
Â  Â  Â  }, 4000);
Â  Â  });

Â  Â  document.getElementById("cerrarSesion").addEventListener("click", () => {
Â  Â  Â  localStorage.removeItem("usuarioLogueado");
Â  Â  Â  window.location.href = "../../Formularios/inicioSesion.html";
Â  Â  });

Â  Â  document.getElementById("fechaHoy").textContent = new Date().toLocaleDateString("es-AR", {
Â  Â  Â  weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
Â  Â  });

Â  Â  renderizarTurnos();
Â  </script>

</body>
</html>